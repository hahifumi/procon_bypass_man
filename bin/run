#!/usr/bin/env ruby

require "bundler/setup"
require "procon_bypass_man"
require "pry"

ProconBypassMan.run do
  prefix_keys_for_changing_layer [:zr, :r, :zl, :l]

  layer :up, mode: :manual, :exclusive do
    flip :down, if_pushed: true, channel: 2
    flip :zr, if_pushed: :zr, channel: 1
    flip :zl, if_pushed: [:y, :b, :zl], channel: 1
  end
  layer :right, mode: :auto
  layer :left do
    # no-op
  end
  layer :down do
    flip :zl
  end
end
